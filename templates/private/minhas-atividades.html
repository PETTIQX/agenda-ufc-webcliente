<script>
$(document).ready(function(){
  $('.modal-trigger').leanModal();
});
</script>
<div ng-init="init()">
    <div class="row">
        <div ng-repeat="atividade in atividades" class="col s12 m4">
            <!--Modal para cada atividade-->
            <div ng-attr-id="{{atividade._id}}" class="modal">
                <div class="modal-content">
                    <h4>Deletar Atividade</h4>
                    <p>Deseja realmente deletar esta atividade?<br>Após realizada, a deleção não poderá ser desfeita.</p>
                </div>
                <div class="modal-footer">
                    <a class="modal-action modal-close waves-effect waves-orange btn-flat">Cancelar</a>
                    <a ng-click="removerAtividade(atividade._id)" class="modal-action modal-close waves-effect waves-red btn-flat">Deletar</a>
                </div>
            </div>

            <div class="card small">
              <div ng-if="atividade.imagens.length > 0" class="card-image">
                <img ng-src="{{imageAddress + atividade.imagens[0]}}">
              </div>
              <div class="card-content">
                <span class="card-title activator grey-text text-darken-4">{{atividade.nome}}</span>
              </div>
              <div class="card-action">
                <a ui-sref="atividade-detalhes({atividadeId: atividade._id})" class="blue-text left">Detalhes</a>
                <a class="modal-trigger red-text right" href="{{'#' + atividade._id}}">Deletar</i></a>
              </div>
          </div>
    </div>
    <div class="fixed-action-btn" style="bottom: 60px; right: 24px;">
        <a class="btn-floating btn-large waves-effect waves-light blue" ui-sref="cadastro-atividade({cadastrarAtividade : 'cadastrarAtividade'})"><i class="material-icons">add</i></a>
    </div>
  </div>

  <div ng-show="!atividades.length" class="center-align">
    <div id="semAtividadesModal" class="modal modal-fixed-footer">
        <div class="modal-content">
            <h4>Sem atividades cadastradas</h4>
            <img src="../img/addButomTutorial.png">
            <p>Clique no botão + no canto inferior direito da página para adicionar atividades</p>
        </div>
        <div class="modal-footer">
            <a ng-click="$('#semAtividadesModal').closeModal();" class="modal-action center modal-close waves-effect waves-green btn-flat">Entendi</a>
        </div>
    </div>
  </div>

</div>
